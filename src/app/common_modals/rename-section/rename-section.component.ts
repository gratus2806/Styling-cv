import { Component, Input, Output, EventEmitter, OnInit} from '@angular/core';
import { FormBuilder} from '@angular/forms';
import { UserService } from '../../shared/user.service';
import {ActivatedRoute, Router} from "@angular/router";
import { TranslateService } from '@ngx-translate/core';
import { NgbActiveModal, NgbModal, NgbInputDatepicker } from '@ng-bootstrap/ng-bootstrap';
import { DragulaService } from 'ng2-dragula';
export {FormBuilder}
@Component({
  selector: 'app-rename-section',
  templateUrl: './rename-section.component.html',
  styleUrls: ['./rename-section.component.scss']
})
export class RenameSectionComponent implements OnInit {
  
  public menuItems = [];
  public sectiondynamicArray : any[];
  public sections = []  ;
  public sub: any;
  public id :any;
  public icons ;
  public iconsArray = ["fa-home","fa-home7","fa-home8","fa-home9","fa-office","fa-city","fa-newspaper","fa-magazine","fa-design","fa-pencil","fa-pencil3","fa-pencil4","fa-pencil5","fa-pencil6","fa-pencil7","fa-eraser","fa-eraser2","fa-eraser3","fa-quill2","fa-quill4","fa-pen","fa-pen-plus","fa-pen-minus","fa-pen2","fa-blog","fa-pen6","fa-brush","fa-spray","fa-color-sampler","fa-toggle","fa-bucket","fa-gradient","fa-eyedropper","fa-eyedropper2","fa-eyedropper3","fa-droplet","fa-droplet2","fa-color-clear","fa-paint-format","fa-stamp","fa-image2","fa-image-compare","fa-images2","fa-image3","fa-images3","fa-image4","fa-image5","fa-camera","fa-shutter","fa-headphones","fa-headset","fa-music","fa-album","fa-tape","fa-piano","fa-speakers","fa-play","fa-clapboard-play","fa-clapboard","fa-media","fa-presentation","fa-movie","fa-film","fa-film2","fa-film3","fa-film4","fa-video-camera","fa-video-camera2","fa-video-camera-slash","fa-video-camera3","fa-dice","fa-chess-king","fa-chess-queen","fa-chess","fa-megaphone","fa-new","fa-connection","fa-station","fa-satellite-dish2","fa-feed","fa-mic2","fa-mic-off2","fa-book","fa-book2","fa-book-play","fa-book3","fa-bookmark","fa-books","fa-archive","fa-reading","fa-library2","fa-graduation2","fa-file-text","fa-profile","fa-file-empty","fa-file-empty2","fa-files-empty","fa-files-empty2","fa-file-plus","fa-file-plus2","fa-file-minus","fa-file-minus2","fa-file-download","fa-file-download2","fa-file-upload","fa-file-upload2","fa-file-check","fa-file-check2","fa-file-eye","fa-file-eye2","fa-file-text2","fa-file-text3","fa-file-picture","fa-file-picture2","fa-file-music","fa-file-music2","fa-file-play","fa-file-play2","fa-file-video","fa-file-video2","fa-copy","fa-copy2","fa-file-zip","fa-file-zip2","fa-file-xml","fa-file-xml2","fa-file-css","fa-file-css2","fa-file-presentation","fa-file-presentation2","fa-file-stats","fa-file-stats2","fa-file-locked","fa-file-locked2","fa-file-spreadsheet","fa-file-spreadsheet2","fa-copy3","fa-copy4","fa-paste","fa-paste2","fa-paste3","fa-paste4","fa-stack","fa-stack2","fa-stack3","fa-folder","fa-folder-search","fa-folder-download","fa-folder-upload","fa-folder-plus","fa-folder-plus2","fa-folder-minus","fa-folder-minus2","fa-folder-check","fa-folder-heart","fa-folder-remove","fa-folder2","fa-folder-open","fa-folder3","fa-folder4","fa-folder-plus3","fa-folder-minus3","fa-folder-plus4","fa-folder-minus4","fa-folder-download2","fa-folder-upload2","fa-folder-download3","fa-folder-upload3","fa-folder5","fa-folder-open2","fa-folder6","fa-folder-open3","fa-certificate","fa-cc","fa-price-tag","fa-price-tag2","fa-price-tags","fa-price-tag3","fa-price-tags2","fa-barcode2","fa-qrcode","fa-ticket","fa-theater","fa-store","fa-store2","fa-cart","fa-cart2","fa-cart4","fa-cart5","fa-cart-add","fa-cart-add2","fa-cart-remove","fa-basket","fa-bag","fa-percent","fa-coins","fa-coin-dollar","fa-coin-euro","fa-coin-pound","fa-coin-yen","fa-piggy-bank","fa-wallet","fa-cash","fa-cash2","fa-cash3","fa-cash4","fa-credit-card","fa-credit-card2","fa-calculator4","fa-calculator2","fa-calculator3","fa-chip","fa-lifebuoy","fa-phone","fa-phone2","fa-phone-slash","fa-phone-wave","fa-phone-plus","fa-phone-minus","fa-phone-plus2","fa-phone-minus2","fa-phone-incoming","fa-phone-outgoing","fa-phone-hang-up","fa-address-book","fa-address-book2","fa-address-book3","fa-notebook","fa-envelop","fa-envelop2","fa-envelop3","fa-envelop4","fa-envelop5","fa-mailbox","fa-pushpin","fa-location3","fa-location4","fa-compass4","fa-map","fa-map4","fa-map5","fa-direction","fa-reset","fa-history","fa-watch","fa-watch2","fa-alarm","fa-alarm-add","fa-alarm-check","fa-alarm-cancel","fa-bell2","fa-bell3","fa-bell-plus","fa-bell-minus","fa-bell-check","fa-bell-cross","fa-calendar","fa-calendar2","fa-calendar3","fa-calendar52","fa-printer","fa-printer2","fa-printer4","fa-shredder","fa-mouse","fa-mouse-left","fa-mouse-right","fa-keyboard","fa-typewriter","fa-display","fa-display4","fa-laptop","fa-mobile","fa-mobile2","fa-tablet","fa-mobile3","fa-tv","fa-radio","fa-cabinet","fa-drawer","fa-drawer2","fa-drawer-out","fa-drawer-in","fa-drawer3","fa-box","fa-box-add","fa-box-remove","fa-download","fa-upload","fa-floppy-disk","fa-floppy-disks","fa-usb-stick","fa-drive","fa-server","fa-database","fa-database2","fa-database4","fa-database-menu","fa-database-add","fa-database-remove","fa-database-insert","fa-database-export","fa-database-upload","fa-database-refresh","fa-database-diff","fa-database-edit2","fa-database-check","fa-database-arrow","fa-database-time2","fa-undo","fa-redo","fa-rotate-ccw","fa-rotate-cw","fa-rotate-ccw2","fa-rotate-cw2","fa-rotate-ccw3","fa-rotate-cw3","fa-flip-vertical2","fa-flip-horizontal2","fa-flip-vertical3","fa-flip-vertical4","fa-angle","fa-shear","fa-align-left","fa-align-center-horizontal","fa-align-right","fa-align-top","fa-align-center-vertical","fa-align-bottom","fa-undo2","fa-redo2","fa-forward","fa-reply","fa-reply-all","fa-bubble","fa-bubbles","fa-bubbles2","fa-bubble2","fa-bubbles3","fa-bubbles4","fa-bubble-notification","fa-bubbles5","fa-bubbles6","fa-bubble6","fa-bubbles7","fa-bubble7","fa-bubbles8","fa-bubble8","fa-bubble-dots3","fa-bubble-lines3","fa-bubble9","fa-bubble-dots4","fa-bubble-lines4","fa-bubbles9","fa-bubbles10","fa-user","fa-users","fa-user-plus","fa-user-minus","fa-user-cancel","fa-user-block","fa-user-lock","fa-user-check","fa-users2","fa-users4","fa-user-tie","fa-collaboration","fa-vcard","fa-hat","fa-bowtie","fa-quotes-left","fa-quotes-right","fa-quotes-left2","fa-quotes-right2","fa-hour-glass","fa-hour-glass2","fa-hour-glass3","fa-spinner","fa-spinner2","fa-spinner3","fa-spinner4","fa-spinner6","fa-spinner9","fa-spinner10","fa-spinner11","fa-microscope","fa-enlarge","fa-shrink","fa-enlarge3","fa-shrink3","fa-enlarge5","fa-shrink5","fa-enlarge6","fa-shrink6","fa-enlarge7","fa-shrink7","fa-key","fa-lock","fa-lock2","fa-lock4","fa-unlocked","fa-lock5","fa-unlocked2","fa-safe","fa-wrench","fa-wrench2","fa-wrench3","fa-equalizer","fa-equalizer2","fa-equalizer3","fa-equalizer4","fa-cog","fa-cogs","fa-cog2","fa-cog3","fa-cog4","fa-cog52","fa-cog6","fa-cog7","fa-hammer","fa-hammer-wrench","fa-magic-wand","fa-magic-wand2","fa-pulse2","fa-aid-kit","fa-bug2","fa-construction","fa-traffic-cone","fa-traffic-lights","fa-pie-chart","fa-pie-chart2","fa-pie-chart3","fa-pie-chart4","fa-pie-chart5","fa-pie-chart6","fa-pie-chart7","fa-stats-dots","fa-stats-bars","fa-pie-chart8","fa-stats-bars2","fa-stats-bars3","fa-stats-bars4","fa-chart","fa-stats-growth","fa-stats-decline","fa-stats-growth2","fa-stats-decline2","fa-stairs-up","fa-stairs-down","fa-stairs","fa-ladder","fa-rating","fa-rating2","fa-rating3","fa-podium","fa-stars","fa-medal-star","fa-medal","fa-medal2","fa-medal-first","fa-medal-second","fa-medal-third","fa-crown","fa-trophy2","fa-trophy3","fa-diamond","fa-trophy4","fa-gift","fa-pipe","fa-mustache","fa-cup2","fa-coffee","fa-paw","fa-footprint","fa-rocket","fa-meter2","fa-meter-slow","fa-meter-fast","fa-hammer2","fa-balance","fa-fire","fa-fire2","fa-lab","fa-atom","fa-atom2","fa-bin","fa-bin2","fa-briefcase","fa-briefcase3","fa-airplane2","fa-airplane3","fa-airplane4","fa-paperplane","fa-car","fa-steering-wheel","fa-car2","fa-gas","fa-bus","fa-truck","fa-bike","fa-road","fa-train","fa-train2","fa-ship","fa-boat","fa-chopper","fa-cube","fa-cube2","fa-cube3","fa-cube4","fa-pyramid","fa-pyramid2","fa-package","fa-puzzle","fa-puzzle2","fa-puzzle3","fa-puzzle4","fa-glasses-3d2","fa-brain","fa-accessibility","fa-accessibility2","fa-strategy","fa-target","fa-target2","fa-shield-check","fa-shield-notice","fa-shield2","fa-racing","fa-finish","fa-power2","fa-power3","fa-switch","fa-switch22","fa-power-cord","fa-clipboard","fa-clipboard2","fa-clipboard3","fa-clipboard4","fa-clipboard5","fa-clipboard6","fa-playlist","fa-playlist-add","fa-list-numbered","fa-list","fa-list2","fa-more","fa-more2","fa-grid","fa-grid2","fa-grid3","fa-grid4","fa-grid52","fa-grid6","fa-grid7","fa-tree5","fa-tree6","fa-tree7","fa-lan","fa-lan2","fa-lan3","fa-menu","fa-circle-small","fa-menu2","fa-menu3","fa-menu4","fa-menu5","fa-menu62","fa-menu7","fa-menu8","fa-menu9","fa-menu10","fa-cloud","fa-cloud-download","fa-cloud-upload","fa-cloud-check","fa-cloud2","fa-cloud-download2","fa-cloud-upload2","fa-cloud-check2","fa-import","fa-download4","fa-upload4","fa-download7","fa-upload7","fa-download10","fa-upload10","fa-sphere","fa-sphere3","fa-earth","fa-link","fa-unlink","fa-link2","fa-unlink2","fa-anchor","fa-flag3","fa-flag4","fa-flag7","fa-flag8","fa-attachment","fa-attachment2","fa-eye","fa-eye-plus","fa-eye-minus","fa-eye-blocked","fa-eye2","fa-eye-blocked2","fa-eye4","fa-bookmark2","fa-bookmark3","fa-bookmarks","fa-bookmark4","fa-spotlight2","fa-starburst","fa-snowflake","fa-weather-windy","fa-fan","fa-umbrella","fa-sun3","fa-contrast","fa-bed2","fa-furniture","fa-chair","fa-star-empty3","fa-star-half","fa-star-full2","fa-heart5","fa-heart6","fa-heart-broken2","fa-thumbs-up2","fa-thumbs-down2","fa-thumbs-up3","fa-thumbs-down3","fa-height","fa-man","fa-woman","fa-man-woman","fa-yin-yang","fa-cursor","fa-cursor2","fa-lasso2","fa-select2","fa-point-up","fa-point-right","fa-point-down","fa-point-left","fa-pointer","fa-reminder","fa-drag-left-right","fa-drag-left","fa-drag-right","fa-touch","fa-multitouch","fa-touch-zoom","fa-touch-pinch","fa-hand","fa-grab","fa-stack-empty","fa-stack-plus","fa-stack-minus","fa-stack-star","fa-stack-picture","fa-stack-down","fa-stack-up","fa-stack-cancel","fa-stack-check","fa-stack-text","fa-stack4","fa-stack-music","fa-stack-play","fa-move","fa-dots","fa-warning","fa-warning22","fa-notification2","fa-question3","fa-question4","fa-plus3","fa-minus3","fa-plus-circle2","fa-minus-circle2","fa-cancel-circle2","fa-blocked","fa-cancel-square","fa-cancel-square2","fa-spam","fa-cross2","fa-cross3","fa-checkmark","fa-checkmark3","fa-checkmark2","fa-checkmark4","fa-spell-check","fa-spell-check2","fa-enter","fa-exit","fa-enter2","fa-exit2","fa-enter3","fa-exit3","fa-wall","fa-fence","fa-play3","fa-pause","fa-stop","fa-previous","fa-next","fa-backward","fa-forward2","fa-play4","fa-pause2","fa-stop2","fa-backward2","fa-forward3","fa-first","fa-last","fa-previous2","fa-next2","fa-eject","fa-volume-high","fa-volume-medium","fa-volume-low","fa-volume-mute","fa-speaker-left","fa-speaker-right","fa-volume-mute2","fa-volume-increase","fa-volume-decrease","fa-volume-mute5","fa-loop","fa-loop3","fa-infinite-square","fa-infinite","fa-loop4","fa-shuffle","fa-wave","fa-wave2","fa-split","fa-merge","fa-arrow-up5","fa-arrow-right5","fa-arrow-down5","fa-arrow-left5","fa-arrow-up-left2","fa-arrow-up7","fa-arrow-up-right2","fa-arrow-right7","fa-arrow-down-right2","fa-arrow-down7","fa-arrow-down-left2","fa-arrow-left7","fa-arrow-up-left3","fa-arrow-up8","fa-arrow-up-right3","fa-arrow-right8","fa-arrow-down-right3","fa-arrow-down8","fa-arrow-down-left3","fa-arrow-left8","fa-circle-up2","fa-circle-right2","fa-circle-down2","fa-circle-left2","fa-arrow-resize7","fa-arrow-resize8","fa-square-up-left","fa-square-up","fa-square-up-right","fa-square-right","fa-square-down-right","fa-square-down","fa-square-down-left","fa-square-left","fa-arrow-up15","fa-arrow-right15","fa-arrow-down15","fa-arrow-left15","fa-arrow-up16","fa-arrow-right16","fa-arrow-down16","fa-arrow-left16","fa-menu-open","fa-menu-open2","fa-menu-close","fa-menu-close2","fa-enter5","fa-esc","fa-enter6","fa-backspace","fa-backspace2","fa-tab","fa-transmission","fa-sort","fa-move-up2","fa-move-down2","fa-sort-alpha-asc","fa-sort-alpha-desc","fa-sort-numeric-asc","fa-sort-numberic-desc","fa-sort-amount-asc","fa-sort-amount-desc","fa-sort-time-asc","fa-sort-time-desc","fa-battery-6","fa-battery-0","fa-battery-charging","fa-command","fa-shift","fa-ctrl","fa-opt","fa-checkbox-checked","fa-checkbox-unchecked","fa-checkbox-partial","fa-square","fa-triangle","fa-triangle2","fa-diamond3","fa-diamond4","fa-checkbox-checked2","fa-checkbox-unchecked2","fa-checkbox-partial2","fa-radio-checked","fa-radio-checked2","fa-radio-unchecked","fa-checkmark-circle","fa-circle","fa-circle2","fa-circles","fa-circles2","fa-crop","fa-crop2","fa-make-group","fa-ungroup","fa-vector","fa-vector2","fa-rulers","fa-pencil-ruler","fa-scissors","fa-filter3","fa-filter4","fa-font","fa-ampersand2","fa-ligature","fa-font-size","fa-typography","fa-text-height","fa-text-width","fa-height2","fa-width","fa-strikethrough2","fa-font-size2","fa-bold2","fa-underline2","fa-italic2","fa-strikethrough3","fa-omega","fa-sigma","fa-nbsp","fa-page-break","fa-page-break2","fa-superscript","fa-subscript","fa-superscript2","fa-subscript2","fa-text-color","fa-highlight","fa-pagebreak","fa-clear-formatting","fa-table","fa-table2","fa-insert-template","fa-pilcrow","fa-ltr","fa-rtl","fa-ltr2","fa-rtl2","fa-section","fa-paragraph-left2","fa-paragraph-center2","fa-paragraph-right2","fa-paragraph-justify2","fa-indent-increase","fa-indent-decrease","fa-paragraph-left3","fa-paragraph-center3","fa-paragraph-right3","fa-paragraph-justify3","fa-indent-increase2","fa-indent-decrease2","fa-share","fa-share2","fa-new-tab","fa-new-tab2","fa-popout","fa-embed","fa-embed2","fa-markup","fa-regexp","fa-regexp2","fa-code","fa-circle-css","fa-circle-code","fa-terminal","fa-unicode","fa-seven-segment-0","fa-seven-segment-1","fa-seven-segment-2","fa-seven-segment-3","fa-seven-segment-4","fa-seven-segment-5","fa-seven-segment-6","fa-seven-segment-7","fa-seven-segment-8","fa-seven-segment-9","fa-share3","fa-share4","fa-google","fa-google-plus","fa-google-plus2","fa-google-drive","fa-facebook","fa-facebook2","fa-instagram","fa-twitter","fa-twitter2","fa-feed2","fa-feed3","fa-youtube","fa-youtube2","fa-youtube3","fa-vimeo","fa-vimeo2","fa-lanyrd","fa-flickr","fa-flickr2","fa-flickr3","fa-picassa","fa-picassa2","fa-dribbble","fa-dribbble2","fa-dribbble3","fa-forrst","fa-forrst2","fa-deviantart","fa-deviantart2","fa-steam","fa-steam2","fa-dropbox","fa-onedrive","fa-github","fa-github4","fa-github5","fa-wordpress","fa-wordpress2","fa-joomla","fa-blogger","fa-blogger2","fa-tumblr","fa-tumblr2","fa-yahoo","fa-tux","fa-apple2","fa-finder","fa-android","fa-windows","fa-windows8","fa-soundcloud","fa-soundcloud2","fa-skype","fa-reddit","fa-linkedin","fa-linkedin2","fa-lastfm","fa-lastfm2","fa-delicious","fa-stumbleupon","fa-stumbleupon2","fa-stackoverflow","fa-pinterest2","fa-xing","fa-flattr","fa-foursquare","fa-paypal","fa-paypal2","fa-yelp","fa-file-pdf","fa-file-openoffice","fa-file-word","fa-file-excel","fa-libreoffice","fa-html5","fa-html52","fa-css3","fa-git","fa-svg","fa-codepen","fa-chrome","fa-firefox","fa-IE","fa-opera","fa-safari","fa-check2","fa-home4","fa-people","fa-checkmark-circle2","fa-arrow-up-left32","fa-arrow-up52","fa-arrow-up-right32","fa-arrow-right6","fa-arrow-down-right32","fa-arrow-down52","fa-arrow-down-left32","fa-arrow-left52","fa-calendar5","fa-move-alt1","fa-reload-alt","fa-move-vertical","fa-move-horizontal","fa-hash","fa-bars-alt","fa-eye8","fa-search4","fa-zoomin3","fa-zoomout3","fa-add","fa-subtract","fa-exclamation","fa-question6","fa-close2","fa-task","fa-inbox","fa-inbox-alt","fa-envelope","fa-compose","fa-newspaper2","fa-calendar22","fa-hyperlink","fa-trash","fa-trash-alt","fa-grid5","fa-grid-alt","fa-menu6","fa-list3","fa-gallery","fa-calculator","fa-windows2","fa-browser","fa-portfolio","fa-comments","fa-screen3","fa-iphone","fa-ipad","fa-googleplus5","fa-pin","fa-pin-alt","fa-cog5","fa-graduation","fa-air","fa-droplets","fa-statistics","fa-pie5","fa-cross","fa-minus2","fa-plus2","fa-info3","fa-info22","fa-question7","fa-help","fa-warning2","fa-add-to-list","fa-arrow-left12","fa-arrow-down12","fa-arrow-up12","fa-arrow-right13","fa-arrow-left22","fa-arrow-down22","fa-arrow-up22","fa-arrow-right22","fa-arrow-left32","fa-arrow-down32","fa-arrow-up32","fa-arrow-right32","fa-switch2","fa-checkmark5","fa-ampersand","fa-alert","fa-alignment-align","fa-alignment-aligned-to","fa-alignment-unalign","fa-arrow-down132","fa-arrow-up13","fa-arrow-left13","fa-arrow-right14","fa-arrow-small-down","fa-arrow-small-left","fa-arrow-small-right","fa-arrow-small-up","fa-check","fa-chevron-down","fa-chevron-left","fa-chevron-right","fa-chevron-up","fa-clippy","fa-comment","fa-comment-discussion","fa-dash","fa-diff","fa-diff-added","fa-diff-ignored","fa-diff-modified","fa-diff-removed","fa-diff-renamed","fa-file-media","fa-fold","fa-gear","fa-git-branch","fa-git-commit","fa-git-compare","fa-git-merge","fa-git-pull-request","fa-graph","fa-law","fa-list-ordered","fa-list-unordered","fa-mail5","fa-mail-read","fa-mention","fa-mirror","fa-move-down","fa-move-left","fa-move-right","fa-move-up","fa-person","fa-plus22","fa-primitive-dot","fa-primitive-square","fa-repo-forked","fa-screen-full","fa-screen-normal","fa-sync","fa-three-bars","fa-unfold",];
  @Input() sectionname;
  @Input() sectionArray;
  @Input() sectionicon;
  @Input() sectionUniqueId;
  @Output() passEntry: EventEmitter<any> = new EventEmitter();
 
  // constructor(public activeModal: NgbActiveModal,private userService: UserService) {}
  constructor(public router: Router,public userService : UserService,public activeModal: NgbActiveModal,public route: ActivatedRoute, public translate: TranslateService,public modalService: NgbModal,public fb: FormBuilder,public dragulaService: DragulaService) {
    
}

ngOnInit(): void {
}

sectionrename(id,sectionUniqueId ,resumeIdArray){
  
  // let index = resumeIdArray.sections.findIndex(x => x.ids === this.sectionUniqueId)
  

  // resumeIdArray.sections[index].name = this.sectionname;

  // this.userService.updateresumegenericsubject(id,resumeIdArray).subscribe((res : any) => {
  //   this.passEntry.emit(res); 
  // });

}


savesection(icon,sectionname,id,sectionArray,resumeIdArray){
  
  sectionArray.icon = icon
  sectionArray.sectionname = sectionname;

  let index = resumeIdArray.sections.findIndex(x => x.ids === this.sectionUniqueId)
  resumeIdArray.sections[index].name = this.sectionname;
  
  this.userService.updateresumegenericsubject(id,resumeIdArray).subscribe((res : any) => {
    this.passEntry.emit(res);
    this.activeModal.close(); 
  });
  
}

iconschangeFunction(id,data,sectionArray,resumeIdArray){
  sectionArray.icon = data
  this.icons =  sectionArray.icon;

  this.sectionicon = sectionArray.icon;

}
 

}
